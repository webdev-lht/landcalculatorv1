<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LHT Land Calculator Final Step</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
       body {
        background-color: #f5f5f5;
        }
        .lime-header {
          background-color: #b6b813;
        }  
    </style>
  </head>
  <body>
    
    <!-- Header -->
    <nav class="navbar lime-header shadow px-3">
      <div class="container-fluid d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
          <img src="./assets/img/001.lhtlogo-main.png" alt="LHT Logo" width="32" height="32" class="me-2" />
          <span class="fw-bold text-dark">LHT Land Calculator Final Step</span>
        </div>
        <a href="00a.maindashboard.html" class="btn btn-sm btn-outline-dark me-2">‚Üê Back</a>
        <button class="btn btn-sm btn-outline-dark">Logout</button>
      </div>
    </nav>

    <!-- Call to Action -->
    <div class="alert alert-primary mt-4">
      <h6 class="fw-bold">üéØ What's Next?</h6>
      <p class="mb-1">You've now completed your estimate using the LHT Land Calculator. We hope this helped you picture the full cost of owning and developing land.</p>
      <p class="mb-2">Need a second opinion? Want to take the next step? We've got you.</p>
    </div>

    <div class="d-grid mt-3">

      <div class="container mt-5">
        <h5 class="fw-bold mb-3">üìä Your Estimate Summary</h5>
        <div class="row g-3">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üèû Land Purchase Cost</span>
            <span class="fw-bold" id="total_landPurchase">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üß™ Due Diligence</span>
            <span class="fw-bold" id="total_dueDiligence">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üèó Site Development Cost</span>
            <span class="fw-bold" id="total_siteDev">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üîå Utility Connection Cost</span>
            <span class="fw-bold" id="total_utility">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üöß Building Preparation Cost</span>
            <span class="fw-bold" id="total_buildPrep">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üìú Zoning &amp; Legal</span>
            <span class="fw-bold" id="total_zoningLegal">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üíµ Financing &amp; Holding Costs</span>
            <span class="fw-bold" id="total_finance">$0.00</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span>üè† Building Construction Estimate</span>
            <span class="fw-bold" id="total_buildCost">$0.00</span>
          </div>
        <div class="text-end fw-bold mt-3">
            Grand Total: <span class="text-success" id="grandTotal">$0.00</span>
      </div>
    </div>

    <!-- Print PDF Button -->
    <div class="d-grid mt-3">
      <button class="btn btn-success fw-bold" onclick="window.print()">
        üñ®Ô∏è Download My Full Estimate (PDF)
      </button>
    </div>

    <!-- Final CTA buttons -->
    <div class="d-grid gap-2 mt-3">
      <a href="contact-lht.html" class="btn btn-outline-dark fw-bold">
        ü§ù Discuss My Estimate with an LHT Expert
      </a>
      <a href="index.html" class="btn btn-outline-secondary fw-bold">
        üö™ Log Out and Return to LHT Homepage
      </a>
    </div>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const costFields = {
            total_landPurchase: "landPurchaseCost",
            total_dueDiligence: "dueDiligenceCost",
            total_siteDev: "siteDevelopmentCost",
            total_utility: "utilityConnectionCost",
            total_buildPrep: "buildingPrepCost",
            total_zoningLegal: "zoningLegalTotal",
            total_finance: "financingAndHoldingCost",
            total_buildCost: "buildingConstructionEstimate"
          };

          let grandTotal = 0;

          for (const [spanId, storageKey] of Object.entries(costFields)) {
            const value = parseFloat(localStorage.getItem(storageKey)) || 0;
            document.getElementById(spanId).textContent = `$${value.toLocaleString(undefined, { minimumFractionDigits: 2 })}`;
            grandTotal += value;
          }

          document.getElementById("grandTotal").textContent = `$${grandTotal.toLocaleString(undefined, { minimumFractionDigits: 2 })}`;
        });
      </script>

      <script>
        setTimeout(() => {
          document.getElementById('autosaveNotice').style.display = 'block';
        }, 1500);
      </script>


      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      window.addEventListener("DOMContentLoaded", function () {
        const location = localStorage.getItem("selectedLocation");
        if (location) {
          const welcomeSection = document.querySelector(".container");
          const locationLine = document.createElement("p");
          locationLine.innerHTML = `<em class="text-muted small">You selected: ${location}</em>`;
          welcomeSection.insertBefore(locationLine, welcomeSection.children[1]);
        }
      });
    </script>

    <footer class="bg-light text-center text-muted small py-2 border-top mt-4">
      ‚ö†Ô∏è <strong>Disclaimer:</strong> All estimated costs in this app are for ballpark reference only and should not be used for bidding or final project costing.
    </footer>

  </body>
</html>
